<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Imposing renewable energy targets · SpineOpt.jl</title><meta name="title" content="Imposing renewable energy targets · SpineOpt.jl"/><meta property="og:title" content="Imposing renewable energy targets · SpineOpt.jl"/><meta property="twitter:title" content="Imposing renewable energy targets · SpineOpt.jl"/><meta name="description" content="Documentation for SpineOpt.jl."/><meta property="og:description" content="Documentation for SpineOpt.jl."/><meta property="twitter:description" content="Documentation for SpineOpt.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SpineOpt.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../../getting_started/creating_your_own_model/">Creating Your Own Model</a></li><li><a class="tocitem" href="../../getting_started/archetypes/">Archetypes</a></li><li><a class="tocitem" href="../../getting_started/output_data/">Managing Outputs</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorial/webinars/">Webinars</a></li><li><a class="tocitem" href="../../tutorial/simple_system/">Simple system</a></li><li><a class="tocitem" href="../../tutorial/reserves/">Reserve requirements</a></li><li><a class="tocitem" href="../../tutorial/ramping/">Ramping constraints</a></li><li><a class="tocitem" href="../../tutorial/unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../../tutorial/tutorialTwoHydro/">Two hydro plants</a></li><li><a class="tocitem" href="../../tutorial/case_study_a5/">Case Study A5</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how_to/change_the_solver/">Change the solver</a></li><li><a class="tocitem" href="../../how_to/define_an_efficiency/">Define an efficiency</a></li><li><a class="tocitem" href="../../how_to/print_the_model/">Print the model</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints_automatically_generated/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../ramping/">Ramping</a></li><li><a class="tocitem" href="../reserves/">Reserves</a></li><li><a class="tocitem" href="../investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../user_constraints/">User Constraints</a></li><li><a class="tocitem" href="../decomposition/">Decomposition</a></li><li><a class="tocitem" href="../powerflow/">PTDF-Based Powerflow</a></li><li><a class="tocitem" href="../pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../representative_days_w_seasonal_storage/">Representative days with seasonal storages</a></li><li class="is-active"><a class="tocitem" href>Imposing renewable energy targets</a><ul class="internal"><li><a class="tocitem" href="#Imposing-lower-limits-on-renewable-production"><span>Imposing lower limits on renewable production</span></a></li><li><a class="tocitem" href="#Imposing-an-upper-limit-on-carbon-emissions"><span>Imposing an upper limit on carbon emissions</span></a></li><li><a class="tocitem" href="#Imposing-a-carbon-tax"><span>Imposing a carbon tax</span></a></li></ul></li><li><a class="tocitem" href="../mga/">Modelling to generate alternatives</a></li></ul></li><li><span class="tocitem">Implementation details</span><ul><li><a class="tocitem" href="../../implementation_details/documentation/">Documentation</a></li><li><a class="tocitem" href="../../implementation_details/how_does_the_model_update_itself/">How does the model update itself</a></li><li><a class="tocitem" href="../../implementation_details/how_to_write_a_constraint/">How to write a constraint</a></li><li><a class="tocitem" href="../../implementation_details/time_slices/">Time slices</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced Concepts</a></li><li class="is-active"><a href>Imposing renewable energy targets</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Imposing renewable energy targets</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl/blob/master/docs/src/advanced_concepts/cumulated_flow_restrictions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Imposing-renewable-energy-targets"><a class="docs-heading-anchor" href="#Imposing-renewable-energy-targets">Imposing renewable energy targets</a><a id="Imposing-renewable-energy-targets-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-renewable-energy-targets" title="Permalink"></a></h1><p>This advanced concept illustrates how renewable targets can be realized in SpineOpt. </p><h2 id="Imposing-lower-limits-on-renewable-production"><a class="docs-heading-anchor" href="#Imposing-lower-limits-on-renewable-production">Imposing lower limits on renewable production</a><a id="Imposing-lower-limits-on-renewable-production-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-lower-limits-on-renewable-production" title="Permalink"></a></h2><h3 id="Imposing-a-lower-bound-on-the-cumulated-flow-of-a-unit-group-by-an-absolute-value"><a class="docs-heading-anchor" href="#Imposing-a-lower-bound-on-the-cumulated-flow-of-a-unit-group-by-an-absolute-value">Imposing a lower bound on the cumulated flow of a unit group by an absolute value</a><a id="Imposing-a-lower-bound-on-the-cumulated-flow-of-a-unit-group-by-an-absolute-value-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-a-lower-bound-on-the-cumulated-flow-of-a-unit-group-by-an-absolute-value" title="Permalink"></a></h3><p>In the current landscape of energy systems modeling, especially in investment models, it is a common idea to implement a lower limit on the amount of electricity that is generated by renewable sources. SpineOpt allows the user to implement such restrictions by means of the <a href="../../concept_reference/Parameters/#min_total_cumulated_unit_flow_to_node">min_total_cumulated_unit_flow_to_node</a> parameter. Which will trigger the creation of the <a href="@ref constraint_total_cumulated_unit_flow">constraint_total_cumulated_unit_flow</a>.</p><p>To impose  a limit on overall renewable generation over the entire optimization horizon, the following objects, relationships, and parameters are relevant:</p><ol><li><strong><a href="../../concept_reference/Object Classes/#unit">unit</a></strong>: In this case, a unit represents a process (e.g. electricity generation from wind), where one</li></ol><p>or multiple <a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a>s are associated with renewable generation</p><ol><li><strong><a href="../../concept_reference/Object Classes/#node">node</a></strong>: Besides from nodes required to denote e.g. a fuel node or a supply node, at least one node should be introduced representing  electricity demand.  (<em>Note: To distinguish e.g. between regions there can also be more than one electricity node</em>)</li><li><strong><a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a></strong>: To associate electricity flows with a unit, the relationship between the unit and the electricity node needs to be imposed,  to trigger the generation of a electricity-<a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a> variable.</li><li><strong><a href="../../concept_reference/Parameters/#min_total_cumulated_unit_flow_to_node">min_total_cumulated_unit_flow_to_node</a></strong>: This parameter triggers a lower bound on all cumulated flows from a unit (or a group of units), e.g. the group of all renewable generators, to a node (or node group).</li></ol><p>Let&#39;s take a look at a simple example to see how this works. Suppose that we have a system with only one node, which represents the demand for electricity, and two units: a wind farm, and a conventional gas unit. To connect the wind farm to the electricity node, the <a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a> relationship has to be defined.</p><p>One can then simply define the <a href="../../concept_reference/Parameters/#min_total_cumulated_unit_flow_to_node">min_total_cumulated_unit_flow_to_node</a> parameter for the &#39;wind<em>farm__to</em>electricity_node&#39; relationship to impose a lower bound on the total generation origination from the wind farm.</p><p>Note that the value of this parameter is expected to be given as an absolute value, thus care has to be taken to make sure that the units match with the ones used for the <a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a> variable.</p><p>The main source of flexibility in the use of this constraint lies in the possibility to define the parameter for relationships that link &#39;node<em>groups&#39; and/or &#39;unit</em>groups&#39;. For example, by grouping multiple units that are considered renewable sources (e.g. PV, and wind), targets can be implemented across multiple renewable sources. Similarly, by defining multiple electricity nodes, generation targets can be spatially disagreggated.</p><h3 id="Limiting-the-cumulated-flow-of-a-unit-group-by-a-share-of-the-demand"><a class="docs-heading-anchor" href="#Limiting-the-cumulated-flow-of-a-unit-group-by-a-share-of-the-demand">Limiting the cumulated flow of a unit group by a share of the demand</a><a id="Limiting-the-cumulated-flow-of-a-unit-group-by-a-share-of-the-demand-1"></a><a class="docs-heading-anchor-permalink" href="#Limiting-the-cumulated-flow-of-a-unit-group-by-a-share-of-the-demand" title="Permalink"></a></h3><p>For convenience, we want to be able to define the <a href="../../concept_reference/Parameters/#min_total_cumulated_unit_flow_to_node">min_total_cumulated_unit_flow_to_node</a>, when used to set a renewable target, as a share of the demand. At the moment an absolute lower bound needs to be provided by the user, but we want to automate this preprocessing in SpineOpt. (<em>to be implemented</em>)</p><h2 id="Imposing-an-upper-limit-on-carbon-emissions"><a class="docs-heading-anchor" href="#Imposing-an-upper-limit-on-carbon-emissions">Imposing an upper limit on carbon emissions</a><a id="Imposing-an-upper-limit-on-carbon-emissions-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-an-upper-limit-on-carbon-emissions" title="Permalink"></a></h2><h3 id="Imposing-an-upper-limit-on-carbon-emissions-over-the-entire-optimization-horizon"><a class="docs-heading-anchor" href="#Imposing-an-upper-limit-on-carbon-emissions-over-the-entire-optimization-horizon">Imposing an upper limit on carbon emissions over the entire optimization horizon</a><a id="Imposing-an-upper-limit-on-carbon-emissions-over-the-entire-optimization-horizon-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-an-upper-limit-on-carbon-emissions-over-the-entire-optimization-horizon" title="Permalink"></a></h3><p>To impose a limit on overall carbon emissions over the entire optimization horizon, the following objects, relationships and parameters are relevant:</p><ol><li><strong><a href="../../concept_reference/Object Classes/#unit">unit</a></strong>: In this case, a unit represents a process (e.g. conversion of Gas to Electricity), where one</li></ol><p>or multiple <a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a>s are associated with carbon emissions</p><ol><li><strong><a href="../../concept_reference/Object Classes/#node">node</a></strong>: Besides from nodes required to denote e.g. a fuel node or a supply node, at least one node should be introduced representing  carbon emissions.  (<em>Note: To distinguish e.g. between regions there can also be more than one carbon node</em>)</li><li><strong><a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a></strong>: To associate carbon flows with a unit, the relationship between the unit and the carbon node needs to be imposed,  to trigger the generation of a carbon-<a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a> variable.</li><li><strong><a href="../../concept_reference/Relationship Classes/#unit__node__node">unit__node__node</a></strong> and **<a href="@ref">fix_ratio_out_out</a> **: Ratio between e.g. output and output unit flows; e.g. how carbon intensive an electricity flow of a unit is. The parameter is defined on a <a href="../../concept_reference/Relationship Classes/#unit__node__node">unit__node__node</a> relationship, for example (gasplant, Carbon, Electricity). (<em>Note: For a full list of possible ratios, see also <a href="../../concept_reference/Relationship Classes/#unit__node__node">unit__node__node</a> and associated parameters</em>)</li><li><strong><a href="../../concept_reference/Parameters/#max_total_cumulated_unit_flow_to_node">max_total_cumulated_unit_flow_to_node</a></strong> (and <strong><a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a></strong>): This parameter triggers a limit on all flows from a unit (or a group of units), e.g. the group of all conventional generators, to a node (or node groups), e.g. considering the atmosphere as a fictive CO2 node, over the entire modelling horizon (e.g. a carbon budget). For example this could be defined on a relationship between a gasplant and a Carbon node, but can also be defined a unit group of all conventional generators and a carbon node. See also: <a href="@ref constraint_total_cumulated_unit_flow">constraint_total_cumulated_unit_flow</a></li></ol><h3 id="Imposing-an-upper-bound-on-the-cumulated-flows-of-a-unit-group-for-a-specific-period-of-time-(advanced-method)"><a class="docs-heading-anchor" href="#Imposing-an-upper-bound-on-the-cumulated-flows-of-a-unit-group-for-a-specific-period-of-time-(advanced-method)">Imposing an upper bound on the cumulated flows of a unit group for a specific period of time (advanced method)</a><a id="Imposing-an-upper-bound-on-the-cumulated-flows-of-a-unit-group-for-a-specific-period-of-time-(advanced-method)-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-an-upper-bound-on-the-cumulated-flows-of-a-unit-group-for-a-specific-period-of-time-(advanced-method)" title="Permalink"></a></h3><p>If the desired functionality is not to cap emissions over the entire modelling horizon, but rather for specific periods of time (e.g., to impose decreasing carbon caps over time), an alternative method can be used, which will be described in the following.</p><p>To illustrate this functionality, we will assume that there is a ficticious cap of 100 for a period of time 2025-2030, and a cap of 50 for the period of time 2030-2035. In this simple example, we will assume that one carbon-emitting unit <code>carbon_unit</code> is present with two outgoing commodity flows, e.g. here electricity and carbon.</p><p>Three nodes are required to represent this system: an <code>electricity</code> node, a <code>carbon_cap_1</code> node (with <code>has_state=true</code> and <code>node_state_cap=100</code>), and a <code>carbon_cap_2</code> node (with <code>has_state=true</code> and <code>node_state_cap=50</code>).</p><p>Further we introduce the <code>unit__node__node</code> relationships between <code>carbon_unit__carbon_cap1__electricity</code> and <code>carbon_unit__carbon_cap2__electricity</code>. On these relationships, we will define the ratio between emissions and electricity production. In this fictious example, we will assume 0.5 units of emissions per unit of electricity.</p><p>The <code>fix_ratio_out_out</code> parameter will now be defined as a time varying parameter in the following way (<em>simplified representation of TimeSeries parameter</em>):</p><p><code>fix_ratio_out_out(carbon_unit__carbon_cap1__electricity)</code> = [2025: 0.5; 2030: 0] <code>fix_ratio_out_out(carbon_unit__carbon_cap2__electricity)</code> = [2025: 0; 2030: 0.5]</p><p>This way the first emission-cap node <code>carbon_cap1</code> can only be &quot;filled&quot; during the 2025-2030, while <code>carbon_cap2</code> can only be &quot;filled&quot; during the second period 2030-2035. </p><p>Note that it would also be possible to have, e.g., one node with time-varying <code>node_state_cap</code>. However, in this case, &quot;unused&quot; carbon emissions in the first period of time would be availble for the second period of time.</p><h2 id="Imposing-a-carbon-tax"><a class="docs-heading-anchor" href="#Imposing-a-carbon-tax">Imposing a carbon tax</a><a id="Imposing-a-carbon-tax-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-a-carbon-tax" title="Permalink"></a></h2><p>To include carbon pricing in a model, the following objects, relationships and parameters are relevant:</p><ol><li><strong><a href="../../concept_reference/Object Classes/#unit">unit</a></strong>: In this case, a unit represents a process (e.g. conversion of Gas to Electricity), where one</li></ol><p>or multiple <a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a>s are associated with carbon emissions</p><ol><li><strong><a href="../../concept_reference/Object Classes/#node">node</a></strong> and <strong><a href="../../concept_reference/Parameters/#tax_in_unit_flow">tax_in_unit_flow</a></strong>: Besides from nodes required to denote e.g. a fuel node or a supply node, at least one node should be introduced representing carbon emissions. To associate a carbon-tax with all incoming <a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a>s, the <a href="../../concept_reference/Parameters/#tax_in_unit_flow">tax_in_unit_flow</a> parameter can be defined on this node  (<em>Note: To distinguish e.g. between regions there can also be more than one carbon node</em>)</li><li><strong><a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a></strong>: To associate carbon flows with a unit, the relationship between the unit and the carbon node needs to be imposed,  to trigger the generation of a carbon-<a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a> variable.</li><li><strong><a href="../../concept_reference/Relationship Classes/#unit__node__node">unit__node__node</a></strong> and **<a href="@ref">fix_ratio_out_out</a> **: Ratio between e.g. output and output unit flows; e.g. how carbon intensive an electricity flow of a unit is. The parameter is defined on a <a href="../../concept_reference/Relationship Classes/#unit__node__node">unit__node__node</a> relationship, for example (Gasplant, Carbon, Electricity). (<em>Note: For a full list of possible ratios, see also <a href="../../concept_reference/Relationship Classes/#unit__node__node">unit__node__node</a> and associated parameters</em>)</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../representative_days_w_seasonal_storage/">« Representative days with seasonal storages</a><a class="docs-footer-nextpage" href="../mga/">Modelling to generate alternatives »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 1 March 2024 13:14">Friday 1 March 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
