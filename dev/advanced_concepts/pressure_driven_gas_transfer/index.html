<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pressure driven gas transfer · SpineOpt.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">SpineOpt.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../../getting_started/creating_your_own_model/">Creating Your Own Model</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/sets/">Sets</a></li><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../ramping_and_reserves/">Ramping and Reserves</a></li><li><a class="tocitem" href="../investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../unit_constraints/">Unit Constraints</a></li><li><a class="tocitem" href="../decomposition/">Decomposition</a></li><li><a class="tocitem" href="../powerflow/">PTDF-Based Powerflow</a></li><li class="is-active"><a class="tocitem" href>Pressure driven gas transfer</a><ul class="internal"><li><a class="tocitem" href="#key-concepts-advanced-gas-1"><span>Key concept</span></a></li></ul></li><li><a class="tocitem" href="../Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../representative_days_w_seasonal_storage/">Representative days with seasonal storages</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced Concepts</a></li><li class="is-active"><a href>Pressure driven gas transfer</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pressure driven gas transfer</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Spine-project/SpineOpt.jl/blob/master/docs/src/advanced_concepts/pressure_driven_gas_transfer.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="pressure-driven-gas-transfer-1"><a class="docs-heading-anchor" href="#pressure-driven-gas-transfer-1">Pressure driven gas transfer</a><a class="docs-heading-anchor-permalink" href="#pressure-driven-gas-transfer-1" title="Permalink"></a></h1><p>The generic formulation of SpineOpt is based on a trade based model. However, network physics can be different depending on the traded commodity. This chapter specifically addresses the use of pressure driven gas transfer models and enabling linepack flexibility in SpineOpt. To this date, investments in pressure driven pipelines are not yet supported within SpineOpt. The use of multiple feed-in nodes, e.g. to represent multiple commodity flows through a pipeline is not yet supported.</p><p>For the representation of pressure driven gas transfer, we use the MILP formulation, as described in <a href="https://doi.org/10.1109/PTC.2019.8810632">Schwele - Coordination of Power and Natural Gas Systems: Convexification Approaches for Linepack Modeling</a>. Here, the non-linearities associated with the Weymouth equation are convexified through an outer approximation of the Weymouth equation through fixed pressure points.</p><h2 id="key-concepts-advanced-gas-1"><a class="docs-heading-anchor" href="#key-concepts-advanced-gas-1">Key concept</a><a class="docs-heading-anchor-permalink" href="#key-concepts-advanced-gas-1" title="Permalink"></a></h2><p>Here, we briefly describe the key objects and relationships required to model pressure driven gas transfers in SpineOpt.</p><ol><li><strong><a href="../../concept_reference/Object Classes/#connection-1">connection</a></strong>: A connection represents the gas pipeline being modelled. Usually the direction of flow is not known a priory. To ensure that the flow through the gas pipeline is unidirectional, the parameter <a href="../../concept_reference/Parameters/#has_binary_gas_flow-1">has_binary_gas_flow</a> needs to be set to <code>true</code>.</li><li><strong><a href="../../concept_reference/Object Classes/#node-1">node</a></strong>: Nodes with different characteristics are used for the representation of pressure driven gas transfer.<ul><li>For each connection, there will be two nodes representing the start and end point of the pipeline. Associated with these nodes are the following parameters: the <a href="../../concept_reference/Parameters/#has_pressure-1">has_pressure</a> parameter, which needs to be set to true, in order to create the variable <a href="../../mathematical_formulation/variables/#node_pressure-1">node_pressure</a>; the <a href="../../concept_reference/Parameters/#max_node_pressure-1">max_node_pressure</a> and <a href="../../concept_reference/Parameters/#min_node_pressure-1">min_node_pressure</a> to constrain the pressure variable.</li><li>To leverage linepack flexibility, a third node is introduced representing the linepack storage of the pipeline. To trigger the storage linepack and hence, <a href="../../mathematical_formulation/variables/#node_state-1">node_state</a> variables, the <a href="../../concept_reference/Parameters/#has_state-1">has_state</a> parameter needs to be set to <code>true</code>.</li></ul></li><li><strong><a href="../../concept_reference/Relationship Classes/#connection__to_node-1">connection__to_node</a> and <a href="../../concept_reference/Relationship Classes/#connection__from_node-1">connection__from_node</a></strong> To enable flows through the pipeline and into the linepack storage, each <a href="../../concept_reference/Object Classes/#node-1">node</a> has to have both these relationships in common with the connection pipeline. These relationships will trigger the generation of <a href="../../mathematical_formulation/variables/#connection_flow-1">connection_flow</a> variables in all possible directions.</li><li><strong><a href="../../concept_reference/Relationship Classes/#connection__node__node-1">connection__node__node</a></strong> This relationship is key to the pressure driven gas transfer, holding the information about the pipeline characteristics and bringing the elements into interaction.<ul><li>The parameter <a href="../../concept_reference/Parameters/#connection_linepack_constant-1">connection_linepack_constant</a> holds the linepack constant and triggers the generation of the <a href="../../mathematical_formulation/constraints/#constraint_storage_line_pack-1">line pack storage constraint</a>. Note that the first node should be the linepack storage node, while the second node should be a <a href="../../concept_reference/the_basics/#Introduction-to-groups-of-objects-1">node_group</a> of both, the start and the end node of the pipeline.</li><li>The linearization of the Weymouth equation through outer approximation relies on the use of fixed pressure points. For this purpose, the two parameters <a href="../../concept_reference/Parameters/#fixed_pressure_constant_1-1">fixed_pressure_constant_1</a> and <a href="../../concept_reference/Parameters/#fixed_pressure_constant_0-1">fixed_pressure_constant_0</a> hold the fixed pressure constants and trigger the generation of the <a href="../../mathematical_formulation/constraints/#constraint_fixed_node_pressure_point-1">constraint_fix_node_pressure_point</a>. The constraint introduces the relationship between pressure and gas flows. Note, that the pressure constants should be entered in a way, that the first node represents the origin node, the second node the destination node. Each connection should have a <a href="../../concept_reference/Relationship Classes/#connection__node__node-1">connection__node__node</a> to each combination of its start and end nodes (and associated parameters). (See <a href="https://doi.org/10.1109/PTC.2019.8810632">Schwele - Coordination of Power and Natural Gas Systems: Convexification Approaches for Linepack Modeling</a>)</li><li>By default, pipelines are considered to be passive. However, a compression station between two pipeline pressure nodes can be represented by defining a <a href="../../concept_reference/Parameters/#compression_factor-1">compression_factor</a>. The relationship should be defined in such a manner, that the first node represents the sending node, the second node represents the receiving node, which pressure is equal or smaller to the pressure at the sending node times the compression factor.</li><li>Lastly, to ensure the balance between incoming/outgoing flows and flows into the linepack, the ratio between the flows need to be fixed. The average incoming flows of the node group (of the pressure start and end nodes) have to equal the flows into the linepack storage, and vice versa. Therefore, the <a href="../../concept_reference/Parameters/#fix_ratio_out_in_connection_flow-1">fix_ratio_out_in_connection_flow</a> needs to be set to a value (typically 1) for the (pressure group, linepack storage) node pair, and for the (linepack storage, pressure group) node pair.</li></ul></li></ol><p>A complete mathematical formulation can be found <a href="../../mathematical_formulation/constraints/#pressure-driven-gas-transfer-math-1">here</a></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../powerflow/">« PTDF-Based Powerflow</a><a class="docs-footer-nextpage" href="../Lossless_DC_power_flow/">Lossless nodal DC power flows »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 29 April 2021 06:38">Thursday 29 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
