<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Modelling to generate alternatives · SpineOpt.jl</title><meta name="title" content="Modelling to generate alternatives · SpineOpt.jl"/><meta property="og:title" content="Modelling to generate alternatives · SpineOpt.jl"/><meta property="twitter:title" content="Modelling to generate alternatives · SpineOpt.jl"/><meta name="description" content="Documentation for SpineOpt.jl."/><meta property="og:description" content="Documentation for SpineOpt.jl."/><meta property="twitter:description" content="Documentation for SpineOpt.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SpineOpt.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../../getting_started/creating_your_own_model/">Creating Your Own Model</a></li><li><a class="tocitem" href="../../getting_started/archetypes/">Archetypes</a></li><li><a class="tocitem" href="../../getting_started/output_data/">Managing Outputs</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorial/webinars/">Webinars</a></li><li><a class="tocitem" href="../../tutorial/simple_system/">Simple system</a></li><li><a class="tocitem" href="../../tutorial/reserves/">Reserve requirements</a></li><li><a class="tocitem" href="../../tutorial/ramping/">Ramping constraints</a></li><li><a class="tocitem" href="../../tutorial/unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../../tutorial/tutorialTwoHydro/">Two hydro plants</a></li><li><a class="tocitem" href="../../tutorial/case_study_a5/">Case Study A5</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how_to/change_the_solver/">Change the solver</a></li><li><a class="tocitem" href="../../how_to/define_an_efficiency/">Define an efficiency</a></li><li><a class="tocitem" href="../../how_to/print_the_model/">Print the model</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints_automatically_generated/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../ramping/">Ramping</a></li><li><a class="tocitem" href="../reserves/">Reserves</a></li><li><a class="tocitem" href="../investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../user_constraints/">User Constraints</a></li><li><a class="tocitem" href="../decomposition/">Decomposition</a></li><li><a class="tocitem" href="../powerflow/">PTDF-Based Powerflow</a></li><li><a class="tocitem" href="../pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../representative_days_w_seasonal_storage/">Representative days with seasonal storages</a></li><li><a class="tocitem" href="../cumulated_flow_restrictions/">Imposing renewable energy targets</a></li><li class="is-active"><a class="tocitem" href>Modelling to generate alternatives</a><ul class="internal"><li><a class="tocitem" href="#Modelling-to-generate-alternative:-Maximally-different-portfolios"><span>Modelling to generate alternative: Maximally different portfolios</span></a></li><li><a class="tocitem" href="#How-to-set-up-an-MGA-problem"><span>How to set up an MGA problem</span></a></li><li><a class="tocitem" href="#Modelling-to-generate-alternative:-Trade-offs-between-technology-investments"><span>Modelling to generate alternative: Trade-offs between technology investments</span></a></li><li><a class="tocitem" href="#How-to-set-up-an-MGA-problem-2"><span>How to set up an MGA problem</span></a></li></ul></li><li><a class="tocitem" href="../multi_stage/">Multi-stage optimisation</a></li></ul></li><li><span class="tocitem">Implementation details</span><ul><li><a class="tocitem" href="../../implementation_details/documentation/">Documentation</a></li><li><a class="tocitem" href="../../implementation_details/how_does_the_model_update_itself/">How does the model update itself</a></li><li><a class="tocitem" href="../../implementation_details/how_to_write_a_constraint/">How to write a constraint</a></li><li><a class="tocitem" href="../../implementation_details/time_slices/">Time slices</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced Concepts</a></li><li class="is-active"><a href>Modelling to generate alternatives</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Modelling to generate alternatives</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl/blob/master/docs/src/advanced_concepts/mga.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="mga-advanced"><a class="docs-heading-anchor" href="#mga-advanced">Modelling to generate alternatives</a><a id="mga-advanced-1"></a><a class="docs-heading-anchor-permalink" href="#mga-advanced" title="Permalink"></a></h1><p>Through modelling to generate alternatives (short MGA), near-optimal solutions can be explored under certain conditions. Currently, SpineOpt supports two methods for MGA are available.</p><h2 id="Modelling-to-generate-alternative:-Maximally-different-portfolios"><a class="docs-heading-anchor" href="#Modelling-to-generate-alternative:-Maximally-different-portfolios">Modelling to generate alternative: Maximally different portfolios</a><a id="Modelling-to-generate-alternative:-Maximally-different-portfolios-1"></a><a class="docs-heading-anchor-permalink" href="#Modelling-to-generate-alternative:-Maximally-different-portfolios" title="Permalink"></a></h2><p>The idea is that an orginal problem is solved, and subsequently solved again under the condition that the realization of variables should be maximally different from the previous iteration(s), while keeping the objective function within a certain threshold (defined by <a href="../../concept_reference/Parameters/#max_mga_slack">max_mga_slack</a>).</p><p>In SpineOpt, we choose <a href="../../mathematical_formulation/variables/#units_invested_available">units_invested_available</a>, <a href="../../mathematical_formulation/variables/#connections_invested_available">connections_invested_available</a>, and <a href="../../mathematical_formulation/variables/#storages_invested_available">storages_invested_available</a> as variables that can be considered for the maximum-difference-problem. The implementation is based on <a href="https://doi.org/10.1016/j.apenergy.2017.03.065">Modelling to generate alternatives: A technique to explore uncertainty in energy-environment-economy models</a>.</p><h2 id="How-to-set-up-an-MGA-problem"><a class="docs-heading-anchor" href="#How-to-set-up-an-MGA-problem">How to set up an MGA problem</a><a id="How-to-set-up-an-MGA-problem-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-set-up-an-MGA-problem" title="Permalink"></a></h2><ul><li><a href="../../concept_reference/Object Classes/#model">model</a>: In order to explore an MGA model, you will need one model of type <a href="../../concept_reference/Parameter Value Lists/#model_type_list">spineopt_mga</a>. You should also define the number of iterations (<a href="../../concept_reference/Parameters/#max_mga_iterations">max_mga_iterations</a>, and the maximum allowed deviation from the original objective function (<a href="../../concept_reference/Parameters/#max_mga_slack">max_mga_slack</a>).</li><li>at least one investment candidate of type <a href="../../concept_reference/Object Classes/#unit">unit</a>, <a href="../../concept_reference/Object Classes/#connection">connection</a>, or <a href="../../concept_reference/Object Classes/#node">node</a>. For more details on how to set up an investment problem please see: <a href="../investment_optimization/#Investment-Optimization">Investment Optimization</a>.</li><li>To include the investment decisions in the MGA difference maximization, the parameter <a href="../../concept_reference/Parameters/#units_invested_mga">units_invested_mga</a>, <a href="../../concept_reference/Parameters/#connections_invested_mga">connections_invested_mga</a>, or <a href="../../concept_reference/Parameters/#storages_invested_mga">storages_invested_mga</a> need to be set to true, respectively.</li><li>The original MGA formulation is non-convex (maximization problem of an absolute function), but has been linearized through big M method. For this purpose, one should always make sure that <a href="../../concept_reference/Parameters/#units_invested_big_m_mga">units_invested_big_m_mga</a>, <a href="../../concept_reference/Parameters/#connections_invested_big_m_mga">connections_invested_big_m_mga</a>, or <a href="../../concept_reference/Parameters/#storages_invested_big_m_mga">storages_invested_big_m_mga</a>, respectively, is sufficently large to always be larger the the maximum possible difference per MGA iteration. (Typically the number of candidates could suffice.)</li><li>As <a href="../../concept_reference/Object Classes/#output">output</a>s are used to intermediately store solutions from different MGA runs, it is important that <code>units_invested</code>, <code>connections_invested</code>, or <code>storages_invested</code>, respectively, are defined as <a href="../../concept_reference/Object Classes/#output">output</a> objects in your database.</li></ul><h2 id="Modelling-to-generate-alternative:-Trade-offs-between-technology-investments"><a class="docs-heading-anchor" href="#Modelling-to-generate-alternative:-Trade-offs-between-technology-investments">Modelling to generate alternative: Trade-offs between technology investments</a><a id="Modelling-to-generate-alternative:-Trade-offs-between-technology-investments-1"></a><a class="docs-heading-anchor-permalink" href="#Modelling-to-generate-alternative:-Trade-offs-between-technology-investments" title="Permalink"></a></h2><p>The idea of this approach is to explore near-optimal solutions that maximize/minimize investment in a certain technology (or multiple technologies simultanesously). </p><h2 id="How-to-set-up-an-MGA-problem-2"><a class="docs-heading-anchor" href="#How-to-set-up-an-MGA-problem-2">How to set up an MGA problem</a><a class="docs-heading-anchor-permalink" href="#How-to-set-up-an-MGA-problem-2" title="Permalink"></a></h2><ul><li><a href="../../concept_reference/Object Classes/#model">model</a>: In order to explore an MGA model, you will need one model of type <a href="../../concept_reference/Parameter Value Lists/#model_type_list">spineopt_mga</a>. The maximum allowed deviation from the original objective function should be defined via <a href="../../concept_reference/Parameters/#max_mga_slack">max_mga_slack</a>. Note that for this method, we don&#39;t define an explicit number of iteration via the  <a href="../../concept_reference/Parameters/#max_mga_iterations">max_mga_iterations</a> parameter (see also below)</li><li>at least one investment candidate of type <a href="../../concept_reference/Object Classes/#unit">unit</a>, <a href="../../concept_reference/Object Classes/#connection">connection</a>, or <a href="../../concept_reference/Object Classes/#node">node</a>. For more details on how to set up an investment problem please see: <a href="../investment_optimization/#Investment-Optimization">Investment Optimization</a>.</li><li>To include the investment decisions in the MGA min/maximization, the parameter <a href="../../concept_reference/Parameters/#units_invested_mga">units_invested_mga</a>, <a href="../../concept_reference/Parameters/#connections_invested_mga">connections_invested_mga</a>, or <a href="../../concept_reference/Parameters/#storages_invested_mga">storages_invested_mga</a> need to be set to true, respectively.</li><li>To explore near-optimal solutions using this methodology, the <a href="../../concept_reference/Parameters/#units_invested_mga_weight">units_invested_mga_weight</a>, <a href="../../concept_reference/Parameters/#connections_invested_mga_weight">connections_invested_mga_weight</a>, and <a href="../../concept_reference/Parameters/#storages_invested_mga_weight">storages_invested_mga_weight</a> parameters are used to define near-optimal solutions. For this purpose, these parameters are defined as Arrays, defining the weight of the technology per iterations. Note that the length of these Arrays should be the same for all technologies, as this will correspond to the number of MGA iterations, i.e., the number of near-optimal solutions. To analyze the trade-off between two technology types, we can, e.g., define <a href="../../concept_reference/Parameters/#units_invested_mga_weight">units_invested_mga_weight</a> for <em>unit group 1</em> as [-1,-0.5,0], whereas the use the weights [0,-0.5,-1] for the other technology <em>storage group 1</em> in question. Note that a negative sign will correspond to a minimization of investments in the corresponding technology type, while positive signs correspond to a maximization of the respective technology. In the given example, we would hence first minimize the investments in <em>unit group 1</em>, then minimize the two technologies simultaneuously, and finally only minimize investments in <em>storage group 2</em>.</li><li>As <a href="../../concept_reference/Object Classes/#output">output</a>s are used to intermediately store solutions from different MGA runs, it is important that <code>units_invested</code>, <code>connections_invested</code>, or <code>storages_invested</code>, respectively, are defined as <a href="../../concept_reference/Object Classes/#output">output</a> objects in your database.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../cumulated_flow_restrictions/">« Imposing renewable energy targets</a><a class="docs-footer-nextpage" href="../multi_stage/">Multi-stage optimisation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Tuesday 7 May 2024 13:36">Tuesday 7 May 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
