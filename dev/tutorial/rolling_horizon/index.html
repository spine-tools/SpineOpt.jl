<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Rolling horizon · SpineOpt.jl</title><meta name="title" content="Rolling horizon · SpineOpt.jl"/><meta property="og:title" content="Rolling horizon · SpineOpt.jl"/><meta property="twitter:title" content="Rolling horizon · SpineOpt.jl"/><meta name="description" content="Documentation for SpineOpt.jl."/><meta property="og:description" content="Documentation for SpineOpt.jl."/><meta property="twitter:description" content="Documentation for SpineOpt.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SpineOpt.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/recommended_workflow/">Verify installation</a></li><li><a class="tocitem" href="../../getting_started/troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../getting_started/performance_tips/">Performace tips</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../webinars/">Webinars</a></li><li><a class="tocitem" href="../simple_system/">Simple system</a></li><li><a class="tocitem" href="../temporal_resolution/">Temporal resolution</a></li><li><a class="tocitem" href="../stochastic_system/">Stochastic structure</a></li><li><a class="tocitem" href="../capacity_planning/">Capacity planning</a></li><li><a class="tocitem" href="../multi-year_investment/">Multi-year investments using economic parameters</a></li><li><a class="tocitem" href="../reserves/">Reserve requirements</a></li><li><a class="tocitem" href="../ramping/">Ramping constraints</a></li><li><a class="tocitem" href="../unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../representative_periods/">Representative periods</a></li><li class="is-active"><a class="tocitem" href>Rolling horizon</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Model-setup"><span>Model setup</span></a></li><li><a class="tocitem" href="#Temporal-block-setup"><span>Temporal block setup</span></a></li><li><a class="tocitem" href="#Electricity-demand-time-series"><span>Electricity demand time series</span></a></li><li><a class="tocitem" href="#Results-analysis"><span>Results analysis</span></a></li></ul></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how_to/change_the_solver/">Change the solver</a></li><li><a class="tocitem" href="../../how_to/compile_julia_system_image/">Compile julia system image</a></li><li><a class="tocitem" href="../../how_to/define_an_efficiency/">Define an efficiency</a></li><li><a class="tocitem" href="../../how_to/impose_renewable_energy_targets/">Impose renewable energy targets</a></li><li><a class="tocitem" href="../../how_to/manage_output/">Manage output</a></li><li><a class="tocitem" href="../../how_to/model_hydro_power_coupling/">Model hydro power coupling</a></li><li><a class="tocitem" href="../../how_to/print_the_model/">Print the model</a></li><li><a class="tocitem" href="../../how_to/retrofitting/">Retrofitting</a></li><li><a class="tocitem" href="../../how_to/set_up_representative_days_for_investment_problems/">Set up representative days for investment problems</a></li></ul></li><li><a class="tocitem" href="../../gallery/gallery/">Example gallery</a></li><li><span class="tocitem">Database structure</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the data structure</a></li><li><a class="tocitem" href="../../concept_reference/archetypes/">Archetypes</a></li></ul></li><li><span class="tocitem">Standard model framework</span><ul><li><a class="tocitem" href="../../advanced_concepts/temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../../advanced_concepts/stochastic_framework/">Stochastic Framework</a></li></ul></li><li><span class="tocitem">Standard model features</span><ul><li><a class="tocitem" href="../../advanced_concepts/unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../../advanced_concepts/investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../../advanced_concepts/multi-year/">Multi-year Investments</a></li><li><a class="tocitem" href="../../advanced_concepts/reserves/">Reserves</a></li><li><a class="tocitem" href="../../advanced_concepts/ramping/">Ramping</a></li><li><a class="tocitem" href="../../advanced_concepts/Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../../advanced_concepts/powerflow/">PTDF-Based Powerflow</a></li><li><a class="tocitem" href="../../advanced_concepts/pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../../advanced_concepts/user_constraints/">User Constraints</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../../advanced_concepts/decomposition/">Decomposition</a></li><li><a class="tocitem" href="../../advanced_concepts/mga/">Modelling to generate alternatives</a></li><li><a class="tocitem" href="../../advanced_concepts/multi_stage/">Multi-stage optimisation</a></li></ul></li><li><span class="tocitem">SpineOpt Template</span><ul><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints_automatically_generated/">Constraints</a></li></ul></li><li><span class="tocitem">Implementation details</span><ul><li><a class="tocitem" href="../../implementation_details/documentation/">Documentation</a></li><li><a class="tocitem" href="../../implementation_details/how_does_the_model_update_itself/">How does the model update itself</a></li><li><a class="tocitem" href="../../implementation_details/how_to_write_a_constraint/">How to write a constraint</a></li><li><a class="tocitem" href="../../implementation_details/time_slices/">Time slices</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Rolling horizon</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Rolling horizon</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl/blob/master/docs/src/tutorial/rolling_horizon.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Rolling-horizon-tutorial"><a class="docs-heading-anchor" href="#Rolling-horizon-tutorial">Rolling horizon tutorial</a><a id="Rolling-horizon-tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Rolling-horizon-tutorial" title="Permalink"></a></h1><p>This tutorial provides a step-by-step guide to show the main parameter seeting up to use the rolling horizon feature in SpineOpt.</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>Welcome to our tutorial the tutorial for rolling horizon in SpineOpt. To get the most out of this tutorial, we suggest first completing the Unit Commitment tutorial, which can be found <a href="https://spine-tools.github.io/SpineOpt.jl/latest/tutorial/unit_commitment/">here</a>.</p><p>But first, <strong>What is rolling horizon?</strong></p><p>The rolling horizon technique manages large problems by prioritizing efficiency over accuracy. Instead of solving the entire time horizon, it tackles smaller problems within &quot;rolling windows&quot; that represent shorter time periods that share results from one window to the next. This approach allows for quicker solutions, but may lead to sub-optimal results (from the entire time horizon perspective), particularly affecting inter-temporal constraints (e.g., storage levels, unit-commitment, ramping) due since avoids the perfect foresight. More information about the rolling horizon technique can be found in <a href="https://jump.dev/JuMP.jl/stable/tutorials/algorithms/rolling_horizon/">here</a>.</p><h3 id="Model-assumptions"><a class="docs-heading-anchor" href="#Model-assumptions">Model assumptions</a><a id="Model-assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#Model-assumptions" title="Permalink"></a></h3><p>First, let&#39;s start by importing the file <a href="https://github.com/spine-tools/SpineOpt.jl/blob/master/examples/rolling_horizon.json">rolling_horizon.json</a> into SpineToolbox and create a workflow to run the model as in the Unit Commitment tutorial. The file has already set up the rolling horizon, so you can directly run the workflow to see how it works. However, we recommend going through the steps in this tutorial to understand how to set up the rolling horizon in SpineOpt and analyze the results.</p><p>Good! So, let&#39;s now have a look to the system we are working with. The image below shows the system structure, which is an extension of the Unit Commitment case study with two storage nodes: <em>fuel_node</em> and <em>battery_storage</em>.</p><p><img src="../figs_rolling_horizon/rh_system_overview.png" alt="image"/></p><p>The main changes to the Unit Commitment case study are:</p><ul><li>The demand at <em>electricity_node</em> is a time series of a week (168 hours) instead of a single day</li><li>The <em>electricity_node</em> has storage state with capacity 100 MWh and efficiency of 0.95.</li></ul><div class="admonition is-success" id="Remember!-703e4b19c6c3aa0e"><header class="admonition-header">Remember!<a class="admonition-anchor" href="#Remember!-703e4b19c6c3aa0e" title="Permalink"></a></header><div class="admonition-body"><p>This example is an extension of the Unit Commitment tutorial, so the inter-temporal constraints included are: unit-commitment, minimum operating point, minimum down time, and minimum up time.</p></div></div><p>All right! with this information in hand, let&#39;s explore the data and see how all this information is setup in SpineOpt.</p><h2 id="Model-setup"><a class="docs-heading-anchor" href="#Model-setup">Model setup</a><a id="Model-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Model-setup" title="Permalink"></a></h2><p>In the figure below, you can see the model parameters. Notice that in addition, to the <code>model_start</code> and <code>model_end</code> parameters, there is a new parameter <a href="../../concept_reference/Parameters/#roll_forward">roll_forward</a> that defines how much the model moves ahead in time between solves in a rolling optimization. In this case, we can see that the model moves forward by 24 hours (1 day) in each step, which means that the optimization will be performed in 7 steps to cover the whole week.</p><p><img src="../figs_rolling_horizon/rh_model.png" alt="image"/></p><h2 id="Temporal-block-setup"><a class="docs-heading-anchor" href="#Temporal-block-setup">Temporal block setup</a><a id="Temporal-block-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Temporal-block-setup" title="Permalink"></a></h2><p>The <code>temporal_block</code> parameters <code>block_start</code> and <code>block_end</code> are set to 0h and 1D respectively, which means that the optimization will be performed in rolling windows of 24 hours,  the results at the end of each window are used to initialize the next window.</p><p><img src="../figs_rolling_horizon/rh_temporal_block.png" alt="image"/></p><div class="admonition is-success" id="Pro-tip!-18a75f48305ccb1a"><header class="admonition-header">Pro tip!<a class="admonition-anchor" href="#Pro-tip!-18a75f48305ccb1a" title="Permalink"></a></header><div class="admonition-body"><p>The <code>temporal_block</code> parameters <code>block_start</code> and <code>block_end</code> can be larger range than the <code>roll_forward</code> parameter. For example, if <code>block_start</code> is set to 0h and <code>block_end</code> is set to 48h (i.e., look ahead), the optimization will be performed in rolling windows of 48 hours, but only the results for the first 24 hours will be kept at each step. But! be careful, it means that there is enough input data at the end of the last window to perform the optimization in the last one. You can extend the time series data accordingly and optimize for 8 days in this example.</p></div></div><p>Please have a look to the sections <a href="../../advanced_concepts/temporal_framework/#rolling_horizon_single_block">Rolling window optimization with single block</a> and <a href="../../advanced_concepts/temporal_framework/#rolling_horizon_multiple_blocks">Rolling horizon with multiple blocks</a> in the documentation for more information about how to use the rolling horizon feature with different temporal block setups.</p><h2 id="Electricity-demand-time-series"><a class="docs-heading-anchor" href="#Electricity-demand-time-series">Electricity demand time series</a><a id="Electricity-demand-time-series-1"></a><a class="docs-heading-anchor-permalink" href="#Electricity-demand-time-series" title="Permalink"></a></h2><p>Let&#39;s check the electricity demand time series for the <em>electricity_node</em> in the figure below. The demand is a time series of a week (168 hours) with a daily pattern along the whole week. The demand data is stored in the file <a href="../figs_rolling_horizon/uc_electricity_node_demand_week.csv">uc_electricity_node_demand_week.csv</a>.</p><p><img src="../figs_rolling_horizon/rh_electricity_node.png" alt="image"/></p><p>In addition, you can see that the parameters <code>has_state</code> and <code>state_coeff</code> for the storage representation in the <em>electricity_node</em>.</p><h2 id="Results-analysis"><a class="docs-heading-anchor" href="#Results-analysis">Results analysis</a><a id="Results-analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Results-analysis" title="Permalink"></a></h2><p>We are ready to run the model and analyze the results! After running the model, you can check the optimization windows in the console (e.g., see the 7th window in the figure below).</p><p><img src="../figs_rolling_horizon/rh_optimization_window.png" alt="image"/></p><p>The figure below shows the objective function values for each optimization window, which can be used to analyze the performance of the rolling horizon approach.</p><p><img src="../figs_rolling_horizon/rh_results_optimization_windows.png" alt="image"/></p><p>Let&#39;s now check the results for the storage state and the units on status. The figure below shows the node state and the units on status for the thermal generators.</p><p><img src="../figs_rolling_horizon/rh_results_node_state.png" alt="image"/></p><p><img src="../figs_rolling_horizon/rh_results_units_on.png" alt="image"/></p><div class="admonition is-success" id="Did-you-notice?-d86e076c0d404cc0"><header class="admonition-header">Did you notice?<a class="admonition-anchor" href="#Did-you-notice?-d86e076c0d404cc0" title="Permalink"></a></header><div class="admonition-body"><p>SpineOpt provides the results for the whole time horizon, which means that you can analyze the results for the entire week, even though the optimization was performed in rolling windows. This allows you to compare the results of the rolling horizon approach with a perfect foresight approach (i.e., optimizing for the whole week at once) and analyze the impact of the rolling horizon on the results.</p></div></div><div class="admonition is-info" id="You-have-completed-this-tutorial,-congratulations!-33a60b76f448089d"><header class="admonition-header">You have completed this tutorial, congratulations!<a class="admonition-anchor" href="#You-have-completed-this-tutorial,-congratulations!-33a60b76f448089d" title="Permalink"></a></header><div class="admonition-body"><p>You know how to use the Rolling Horizon feature in SpineToolbox and SpineOpt. Keep up the rolling!</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../representative_periods/">« Representative periods</a><a class="docs-footer-nextpage" href="../../how_to/change_the_solver/">Change the solver »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 20 February 2026 16:51">Friday 20 February 2026</span>. Using Julia version 1.11.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
