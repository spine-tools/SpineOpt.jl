<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Managing Outputs · SpineOpt.jl</title><meta name="title" content="Managing Outputs · SpineOpt.jl"/><meta property="og:title" content="Managing Outputs · SpineOpt.jl"/><meta property="twitter:title" content="Managing Outputs · SpineOpt.jl"/><meta name="description" content="Documentation for SpineOpt.jl."/><meta property="og:description" content="Documentation for SpineOpt.jl."/><meta property="twitter:description" content="Documentation for SpineOpt.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SpineOpt.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../creating_your_own_model/">Creating Your Own Model</a></li><li><a class="tocitem" href="../archetypes/">Archetypes</a></li><li class="is-active"><a class="tocitem" href>Managing Outputs</a><ul class="internal"><li><a class="tocitem" href="#Specifying-Your-Output-Data-Store"><span>Specifying Your Output Data Store</span></a></li><li><a class="tocitem" href="#Specifying-Outputs-to-Write"><span>Specifying Outputs to Write</span></a></li><li><a class="tocitem" href="#Creating-Reports"><span>Creating Reports</span></a></li><li><a class="tocitem" href="#Reporting-of-Input-Parameters"><span>Reporting of Input Parameters</span></a></li><li><a class="tocitem" href="#Reporting-of-Dual-Values"><span>Reporting of Dual Values</span></a></li><li><a class="tocitem" href="#Output-Data-Temporal-Resolution"><span>Output Data Temporal Resolution</span></a></li><li><a class="tocitem" href="#Output-Data-Structure"><span>Output Data Structure</span></a></li><li><a class="tocitem" href="#Alternatives-and-Multiple-Model-Runs"><span>Alternatives and Multiple Model Runs</span></a></li><li><a class="tocitem" href="#Output-Writing-Summary"><span>Output Writing Summary</span></a></li></ul></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorial/webinars/">Webinars</a></li><li><a class="tocitem" href="../../tutorial/simple_system/">Simple system</a></li><li><a class="tocitem" href="../../tutorial/reserves/">Reserve requirements</a></li><li><a class="tocitem" href="../../tutorial/ramping/">Ramping constraints</a></li><li><a class="tocitem" href="../../tutorial/unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../../tutorial/tutorialTwoHydro/">Two hydro plants</a></li><li><a class="tocitem" href="../../tutorial/case_study_a5/">Case Study A5</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how_to/change_the_solver/">Change the solver</a></li><li><a class="tocitem" href="../../how_to/define_an_efficiency/">Define an efficiency</a></li><li><a class="tocitem" href="../../how_to/print_the_model/">Print the model</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints_automatically_generated/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../../advanced_concepts/temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../../advanced_concepts/stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../../advanced_concepts/unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../../advanced_concepts/ramping/">Ramping</a></li><li><a class="tocitem" href="../../advanced_concepts/reserves/">Reserves</a></li><li><a class="tocitem" href="../../advanced_concepts/investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../../advanced_concepts/user_constraints/">User Constraints</a></li><li><a class="tocitem" href="../../advanced_concepts/decomposition/">Decomposition</a></li><li><a class="tocitem" href="../../advanced_concepts/powerflow/">PTDF-Based Powerflow</a></li><li><a class="tocitem" href="../../advanced_concepts/pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../../advanced_concepts/Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../../advanced_concepts/representative_days_w_seasonal_storage/">Representative days with seasonal storages</a></li><li><a class="tocitem" href="../../advanced_concepts/cumulated_flow_restrictions/">Imposing renewable energy targets</a></li><li><a class="tocitem" href="../../advanced_concepts/mga/">Modelling to generate alternatives</a></li><li><a class="tocitem" href="../../advanced_concepts/multi_stage/">Multi-stage optimisation</a></li></ul></li><li><span class="tocitem">Implementation details</span><ul><li><a class="tocitem" href="../../implementation_details/documentation/">Documentation</a></li><li><a class="tocitem" href="../../implementation_details/how_does_the_model_update_itself/">How does the model update itself</a></li><li><a class="tocitem" href="../../implementation_details/how_to_write_a_constraint/">How to write a constraint</a></li><li><a class="tocitem" href="../../implementation_details/time_slices/">Time slices</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Getting Started</a></li><li class="is-active"><a href>Managing Outputs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Managing Outputs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/spine-tools/SpineOpt.jl/blob/master/docs/src/getting_started/output_data.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Managing-Output-Data"><a class="docs-heading-anchor" href="#Managing-Output-Data">Managing Output Data</a><a id="Managing-Output-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Managing-Output-Data" title="Permalink"></a></h1><p>Once a model is created and successfully run, it will hopefully produce results and output data. This section covers how the writing of output data is controlled and managed.</p><h2 id="Specifying-Your-Output-Data-Store"><a class="docs-heading-anchor" href="#Specifying-Your-Output-Data-Store">Specifying Your Output Data Store</a><a id="Specifying-Your-Output-Data-Store-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-Your-Output-Data-Store" title="Permalink"></a></h2><p>In your workflow (for more details see <a href="../setup_workflow/#Setting-up-a-workflow-for-SpineOpt-in-Spine-Toolbox">Setting up a workflow for SpineOpt in Spine Toolbox</a>) you will normally have a output datastore connected to your RunSpineOpt workflow tool. This is where your output data will be written. If no output datastore is specified, the results will be written by default to the input datastore. However, it is generally preferable to define a separate output data store for results. See <a href="../setup_workflow/#Setting-up-a-workflow-for-SpineOpt-in-Spine-Toolbox">Setting up a workflow for SpineOpt in Spine Toolbox</a> for the steps to add an output datastore to your workflow)</p><h2 id="Specifying-Outputs-to-Write"><a class="docs-heading-anchor" href="#Specifying-Outputs-to-Write">Specifying Outputs to Write</a><a id="Specifying-Outputs-to-Write-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-Outputs-to-Write" title="Permalink"></a></h2><p>Outputting of results to the output datastore is controlled using the <a href="../../concept_reference/Object Classes/#output">output</a> and <a href="../../concept_reference/Object Classes/#report">report</a> object classes. To output a specific variable to the output datastore, we need to create an <a href="../../concept_reference/Object Classes/#output">output</a> object of the same name. For example, to output the <code>unit_flow</code> variable, we must create an <a href="../../concept_reference/Object Classes/#output">output</a> object named <code>unit_flow</code>. The SpineOpt template contains output objects for most problem variables and importing or re-importing the SpineOpt template will add these to your input datastore. So it is probable these output objects will exist already in your input datastore. Once the output objects exist in your model, they must then be added to a report object by creating an <a href="../../concept_reference/Relationship Classes/#report__output">report__output</a> relationship</p><h2 id="Creating-Reports"><a class="docs-heading-anchor" href="#Creating-Reports">Creating Reports</a><a id="Creating-Reports-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Reports" title="Permalink"></a></h2><p><a href="../../concept_reference/Object Classes/#report">Report</a>s are essentially a collection of outputs that can be written to an output datastore. Any number of report objects can be created. We add output items to a report by creating <a href="../../concept_reference/Relationship Classes/#report__output">report__output</a> relationships between the output objects we want included and the desired report object. Finally, to write a specic report to the output database, we must create a <a href="../../concept_reference/Relationship Classes/#model__report">model__report</a> relationship for each report object we want included in the output datastore.</p><h2 id="Reporting-of-Input-Parameters"><a class="docs-heading-anchor" href="#Reporting-of-Input-Parameters">Reporting of Input Parameters</a><a id="Reporting-of-Input-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Reporting-of-Input-Parameters" title="Permalink"></a></h2><p>In addition to writing results as outputs to a datastore, SpineOpt can also report input parameter data. To allow specific input parameters to be included in a report, they must be first added as <a href="../../concept_reference/Object Classes/#output">output</a> objects with a name corresponding exactly to the parameter name. For example, to allow the <a href="../../concept_reference/Parameters/#demand">demand</a> parameter to be included in a report, there must be a correspondingly named <a href="../../concept_reference/Object Classes/#output">output</a> object called <code>demand</code>. Similarly to outputs, to include an input parameter in a report, we must create a <a href="../../concept_reference/Relationship Classes/#report__output">report__output</a> relationship between the output object representing the input parameter (e.g. <code>demand</code>) and the desired report object.</p><h2 id="Reporting-of-Dual-Values"><a class="docs-heading-anchor" href="#Reporting-of-Dual-Values">Reporting of Dual Values</a><a id="Reporting-of-Dual-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Reporting-of-Dual-Values" title="Permalink"></a></h2><p>To report the dual of a constraint, one can add an output item with the corresponding constraint name (e.g. <code>constraint_nodal_balance</code>) and add that to a report. This will cause the corresponding constraint&#39;s marginal value to be reported in the output DB. When adding a constraint name as an output we need to preface the actual constraint name with <code>constraint_</code> to avoid ambiguity with variable names (e.g. <code>units_available</code>). So to report the marginal value of <code>units_available</code> we add an output object called <code>constraint_units_available</code>.</p><p>To report the <code>reduced_cost()</code> for a variable which is the marginal value of the associated active bound or fix constraints on that variable, one can add an output object with the variable name prepended by <code>bound_</code>. So, to report the units<em>on reduced</em>cost value, one would create an output item called <code>bound_units_on</code>. If added to a report, this will cause the reduced cost of units<em>on in the final fixed LP to be written to the output db. Finally, if any constraint duals or reduced</em>cost values are requested via a report, calculate_duals is set to true and the final fixed LP solve is triggered.</p><h2 id="Output-Data-Temporal-Resolution"><a class="docs-heading-anchor" href="#Output-Data-Temporal-Resolution">Output Data Temporal Resolution</a><a id="Output-Data-Temporal-Resolution-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Data-Temporal-Resolution" title="Permalink"></a></h2><p>To control the resolution of report data (both output data and input data appearing in reports), we use the <a href="../../concept_reference/Parameters/#output_resolution">output_resolution</a> <a href="../../concept_reference/Object Classes/#output">output</a> parameter. For the specific output (or input), this indicates the resolution at which the values should be reported. If <a href="../../concept_reference/Parameters/#output_resolution">output_resolution</a> is null (the default), results are reported at the highest available resolution that will follow from the temporal structure of the model. If <a href="../../concept_reference/Parameters/#output_resolution">output_resolution</a> is a duration value, then the average value is reported. </p><h2 id="Output-Data-Structure"><a class="docs-heading-anchor" href="#Output-Data-Structure">Output Data Structure</a><a id="Output-Data-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Data-Structure" title="Permalink"></a></h2><p>The structure of the output data will follow the structure of the input data with the inclusion of additional dimensions as described below:</p><ul><li>The report object to which the output data items belong will be added as a dimension</li><li>The relevant stochastic scenario will be added as a dimension to all output data items. This allows for stochastic data to be written to the output datastore. However, in deterministic models, the single deterministic scenario will still appear as an additional dimension</li><li>For unit flows, the flow direction is added as a dimension to the output. </li></ul><h3 id="Example:-unit_flow"><a class="docs-heading-anchor" href="#Example:-unit_flow">Example: <code>unit_flow</code></a><a id="Example:-unit_flow-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-unit_flow" title="Permalink"></a></h3><p>For example, consider the <a href="../../mathematical_formulation/variables/#unit_flow">unit_flow</a>) optimisation variable. This variable is dimensioned on the <a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a> and <a href="../../concept_reference/Relationship Classes/#unit__from_node">unit__from_node</a> relationships. In the output datastore, the <a href="../../concept_reference/Object Classes/#report">report</a>, <a href="../../concept_reference/Object Classes/#stochastic_scenario">stochastic_scenario</a> and flow <code>direction</code> are added as additional dimensions. Therefore, <a href="../../concept_reference/Relationship Classes/#unit__to_node">unit__to_node</a> values will appear in the output datastore as timeseries parameters associated with the <code>report__unit__node__direction__stochastic_scenario</code> relationship as shown below.</p><p><img src="https://github.com/Spine-project/SpineOpt.jl/blob/master/docs/src/figs/output_data_unit_flow.png?raw=true" alt="image"/></p><p>To view the data, simply double-click on the timeseries value</p><h3 id="Example:-units_on"><a class="docs-heading-anchor" href="#Example:-units_on">Example: <code>units_on</code></a><a id="Example:-units_on-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-units_on" title="Permalink"></a></h3><p>Consider the <a href="../../mathematical_formulation/variables/#units_on">units_on</a>) optimisation variable. This variable is dimensioned on the <a href="../../concept_reference/Object Classes/#unit">unit</a> object class. In the output datastore, the <a href="../../concept_reference/Object Classes/#report">report</a> and <a href="../../concept_reference/Object Classes/#stochastic_scenario">stochastic_scenario</a> are added as additional dimensions. Therefore, <a href="../../mathematical_formulation/variables/#units_on">units_on</a> values will appear in the output datastore as timeseries parameters associated with the <code>report__unit__stochastic_scenario</code> relationship as shown below.</p><p><img src="https://github.com/Spine-project/SpineOpt.jl/blob/1d158d7f76e0dc4d6952c6f6f95c21c4c0dc803d/docs/src/figs/output_data_units_on.png?raw=true" alt="image"/></p><p>To view the data, simply double-click on the timeseries value</p><h2 id="Alternatives-and-Multiple-Model-Runs"><a class="docs-heading-anchor" href="#Alternatives-and-Multiple-Model-Runs">Alternatives and Multiple Model Runs</a><a id="Alternatives-and-Multiple-Model-Runs-1"></a><a class="docs-heading-anchor-permalink" href="#Alternatives-and-Multiple-Model-Runs" title="Permalink"></a></h2><ul><li>All outputs from a single run of a model will be tagged with a unique &quot;alternative&quot;. Alternatives allow multiple values to be specified for the same parameter. If a model is run multiple times, the results will be appended to the output datastore with a new alternative which uniquely identifies the scenario and model run. This is convenient as it allows results from multiple runs and for multiple scenarios to be viewed and compared simultaneously. If a specific altnernative is not selected (the default condition) the results for all alternatives will be visible. If a single altnerative is selected or multiple alternatives are selected in the altnerative tree, then only the results for the selected alternatives will be shown. </li></ul><p>In the example below, the relationship class <code>report__unit__stochastic_scenario</code> is selected in the relationship treem therefore results for that relationship class are showing in the relationship parameter pane. Furthermore, in the alternative tree, the alternative <code>10h TP Load _Reun SpineOpt...</code> is selected, meaning only results for that alternative are being displayed.</p><p><img src="https://github.com/Spine-project/SpineOpt.jl/blob/master/docs/src/figs/output_data_altneratives.png?raw=true" alt="image"/></p><h2 id="Output-Writing-Summary"><a class="docs-heading-anchor" href="#Output-Writing-Summary">Output Writing Summary</a><a id="Output-Writing-Summary-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Writing-Summary" title="Permalink"></a></h2><ul><li>We need an output object in our intput datastore for each variable or marginal value we want included in a report</li><li>Inputs data can also be reported. As above, we need to create an output object named after the input parameter we want reported </li><li>We need to create a report object to contain our desired outputs (or input parameters) which are added to our report via <a href="../../concept_reference/Relationship Classes/#report__output">report__output</a> relationships</li><li>We need to create a <a href="../../concept_reference/Relationship Classes/#model__report">model__report</a> object to write a specific report to the output datastore.</li><li>The temporal resolution of outputs (which may also be input parameters) is controlled by the <a href="../../concept_reference/Parameters/#output_resolution">output_resolution</a> <a href="../../concept_reference/Object Classes/#output">output</a> duration parameter. If <code>null</code>, the highest available resolution is reported, otherwise the average is reported over the desired duration. </li><li>Additional dimensions are added to the output data such as the <a href="../../concept_reference/Object Classes/#report">report</a> object, <a href="../../concept_reference/Object Classes/#stochastic_scenario">stochastic_scenario</a> and, in the case of unit_flow, the flow direction. </li><li>Model outputs are tagged with altnernatives that are unique to the model run and scenario that generated them</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../archetypes/">« Archetypes</a><a class="docs-footer-nextpage" href="../../tutorial/webinars/">Webinars »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Monday 29 April 2024 08:19">Monday 29 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
